<%- include('../includes/header.ejs') %>
<div class="dummyTopSpacer"></div>
<%- include('../includes/breadcrumbs.ejs') %>

<div class="container_wrapper">
    <div class="actionBar__wrapper">
        <h2 class="actionBar__title">Alterar Password</h2>
    </div>

    <div class="form__wrapper">
        <h4><%= user.username %></h4>
        <form action="/admin/utilizadores/alterarPasswordUtilizador/<%= user.userId %>?_method=PUT" method="post">
            <div class="formInput__wrapper">
                <label for="password" class="inputLabel">Definir password <span class="labelRequiredField">*</span></label>
                <input type="password" name="password" id="password" size="40" required 
                    <% 
                        if(typeof validationErrors != 'undefined'){
                            const erro = validationErrors.find(el => el.param === 'password');
                            if(erro){
                    %>
                                class="inputError"
                            <% } %>
                    <% } %>
                >
                <% 
                    if(typeof validationErrors != 'undefined'){
                        const erro = validationErrors.find(el => el.param === 'password');
                        if(erro){
                %>
                            <p class="inputErrorMsg">
                                <%= erro.msg %>
                            </p>
                        <% } %>
                <% } %>
            </div>
            <div class="formInput__wrapper">
                <label for="confirmPassword" class="inputLabel">Confirmar Password <span class="labelRequiredField">*</span></label>
                <input type="password" name="confirmPassword" id="confirmPassword" size="40" required
                <% 
                        if(typeof validationErrors != 'undefined'){
                            const erro = validationErrors.find(el => el.param === 'confirmPassword');
                            if(erro){
                    %>
                                class="inputError"
                            <% } %>
                    <% } %>
                >
                <% 
                    if(typeof validationErrors != 'undefined'){
                        const erro = validationErrors.find(el => el.param === 'confirmPassword');
                        if(erro){
                %>
                            <p class="inputErrorMsg">
                                <%= erro.msg %>
                            </p>
                        <% } %>
                <% } %>
            </div>
            <div class="inputBtnBar">
                <input type="submit" name="alterar" value="Alterar" class="btn btn-primary">
                <a href="/admin/utilizadores" class="btn-cancel">Cancelar</a>
            </div>
        </form>
    </div>
</div>

<%- include('../includes/footer.ejs') %>











<!--<%- include('../includes/header.ejs') %>
<%- include('../includes/breadcrumbs.ejs') %>
<%- include('../includes/validationErrors.ejs') %>

<form action="/admin/utilizadores/alterarPasswordUtilizador/<%= user.userId %>?_method=PUT" method="post">
    <p class="username"><%= user.username %></p>
    <label for="password">Password: </label>
    <input type="password" name="password" required><br>
    <label for="password">Verificar Password: </label>
    <input type="password" name="confirmPassword" required><br>
    <input type="submit" value="Alterar">
    <a href="/admin/utilizadores">Cancelar</a>
</form>

<%- include('../includes/footer.ejs') %>-->