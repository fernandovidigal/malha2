<%- include('../includes/header.ejs') %>
<div class="dummyTopSpacer"></div>
<%- include('../includes/breadcrumbs.ejs') %>

<div class="container_wrapper">
    <div class="actionBar__wrapper">
        <h2 class="actionBar__title">Adicionar Utilizador</h2>
    </div>

    <div class="form__wrapper">
        <form action="/admin/utilizadores/adicionarUtilizador" method="post">
            <div class="formInput__wrapper">
                <label for="username" class="inputLabel">Nome de utilizador <span class="labelRequiredField">*</span></label>
                <input type="text" name="username" id="username" size="60" required <% if(typeof utilizador !== 'undefined') { %>value="<%= utilizador.username %>"<% } %>
                <% 
                    if(typeof validationErrors != 'undefined'){
                        const erro = validationErrors.find(el => el.param === 'username');
                        if(erro){
                %>
                            class="inputError"
                        <% } %>
                <% } %>
                >
                <% 
                    if(typeof validationErrors != 'undefined'){
                        const erro = validationErrors.find(el => el.param === 'username');
                        if(erro){
                %>
                            <p class="inputErrorMsg">
                                <%= erro.msg %>
                            </p>
                        <% } %>
                <% } %>
            </div>
            <div class="formInput__wrapper">
                <label for="password" class="inputLabel">Definir password <span class="labelRequiredField">*</span></label>
                <input type="password" name="password" id="password" size="40" required 
                    <% 
                        if(typeof validationErrors != 'undefined'){
                            const erro = validationErrors.find(el => el.param === 'password');
                            if(erro){
                    %>
                                class="inputError"
                            <% } %>
                    <% } %>
                >
                <% 
                    if(typeof validationErrors != 'undefined'){
                        const erro = validationErrors.find(el => el.param === 'password');
                        if(erro){
                %>
                            <p class="inputErrorMsg">
                                <%= erro.msg %>
                            </p>
                        <% } %>
                <% } %>
            </div>
            <div class="formInput__wrapper">
                <label for="confirmPassword" class="inputLabel">Confirmar Password <span class="labelRequiredField">*</span></label>
                <input type="password" name="confirmPassword" id="confirmPassword" size="40" required
                <% 
                        if(typeof validationErrors != 'undefined'){
                            const erro = validationErrors.find(el => el.param === 'confirmPassword');
                            if(erro){
                    %>
                                class="inputError"
                            <% } %>
                    <% } %>
                >
                <% 
                    if(typeof validationErrors != 'undefined'){
                        const erro = validationErrors.find(el => el.param === 'confirmPassword');
                        if(erro){
                %>
                            <p class="inputErrorMsg">
                                <%= erro.msg %>
                            </p>
                        <% } %>
                <% } %>
            </div>
            <div class="formInput__wrapper">
                <div class="radioButtons__wrapper">
                    <label class="inputRadioContainer">Utilizador
                        <input type="radio" name="level" value="0" required checked>
                        <span class="checkmark"></span>
                    </label>
                    <label class="inputRadioContainer">Gestor
                        <input type="radio" name="level" value="5" required
                            <% if(typeof utilizador !== 'undefined' && utilizador.level == 5) { %> 
                                checked 
                            <% } %>
                        >
                        <span class="checkmark"></span>
                    </label>
                    <label class="inputRadioContainer">Administrador
                        <input type="radio" name="level" value="10" required
                            <% if(typeof utilizador !== 'undefined' && utilizador.level == 10) { %> 
                                checked 
                            <% } %>
                        >
                        <span class="checkmark"></span>
                    </label>
                </div>
            </div>
            <div class="inputBtnBar">
                <input type="submit" name="adicionar" value="Adicionar" class="btn btn-primary">
                <a href="/admin/utilizadores" class="btn-cancel">Cancelar</a>
            </div>
        </form>
    </div>
</div>

<%- include('../includes/footer.ejs') %>