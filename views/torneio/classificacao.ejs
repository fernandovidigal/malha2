<%- include('../includes/header.ejs') %>

<% if(torneio != null){ %>
    <div class="barraTorneio">
        <div class="barraTorneio__title">
            <h1><%= torneio.designacao %></h1>
            <h3><%= torneio.localidade %>, <%= torneio.ano %></h3>
        </div>
        <div class="barraTorneio__buttons">
            <button class="btn btn-print"><i class="fas fa-print"></i></button>
        </div>
    </div>

    <%- include('../includes/breadcrumbs.ejs') %>
    <div class="container_wrapper">
        <div class="actionBar__wrapper">
            <h2 class="actionBar__title">Classificação</h2>
        </div>

        <div class="classificacao__wrapper">
        <% if(listaCampos.length > 0) { %>
            <% listaCampos.forEach(function(campo){ %>
                <% let posicao = (fase != 100)? 1 : campo.inicioClassificacao %>
                <h3 class="registoParciais__campoTitle">Campo <%= (info.fase != 100) ? campo.campo : campo.campo + ' - ' + campo.designacao %></h3>
                <table class="mainTable">
                    <thead>
                        <tr>
                            <th width="1%">Classificação</th>
                            <th>Equipa</th>
                            <th class="mainTable-headerElement-left" colspan="2">Elementos</th>
                            <th class="mainTable-headerElement-left" width="15%">Localidade</th>
                            <th width="10%">Acumulado Parciais</th>
                            <th width="10%">Jogos Ganhos</th>
                            <th width="10%">Pontuação</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% if(campo.classificacao.length > 0) { %>
                            <% campo.classificacao.forEach(function(equipa){ %>
                                <tr>
                                    <td align="center"><%= posicao++ %>º</td>
                                    <td align="center"><%= equipa.equipaId %></td>
                                    <td class="primeiroElemento"><%= equipa.primeiroElemento %></td>
                                    <td><%= equipa.segundoElemento %></td>
                                    <td><%= equipa.localidade %></td>
                                    <td></td>
                                    <td align="center"><%= equipa.vitorias %></td>
                                    <td align="center"><%= equipa.pontos %></td>
                                </tr>
                            <% }); %>
                        <% } else { %>
                            <tr>
                                <td colspan="6">Não existem classificações.</td>
                            </tr>
                        <% } %>
                    </tbody>
                </table>
            <% }); %>
        <% } else { %>

        <% } %>
        </div>
    </div>
<% } else { %>
    <%- include('../includes/noTorneio.ejs') %>
<% } %>

<%- include('../includes/footer.ejs') %>